<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Stranger Things App</title>
<style>
    body {
        margin: 0;
        font-family: 'Courier New', monospace;
        background: linear-gradient(180deg, #000000, #1a0000);
        color: #fff;
        text-align: center;
        height: 100vh;
        padding-top: 120px;
    }

    h1 {
        font-size: 60px;
        color: #ff0000;
        text-shadow: 0 0 20px #ff0000, 0 0 40px #8b0000;
        animation: flicker 2s infinite;
    }

    p {
        font-size: 20px;
        opacity: 0.8;
    }

    #demogorgon-list p {
        font-size: 18px;
        margin: 5px 0;
        opacity: 0.9;
    }

    .upside-down {
        margin-top: 60px;
        font-size: 16px;
        color: #ff3b3b;
        opacity: 0.7;
    }

    @keyframes flicker {
        0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; }
        20%, 24%, 55% { opacity: 0.3; }
    }
</style>
</head>

<body>
    <h1>STRANGER THINGS</h1>
    <p>Bienvenido</p>

    <!-- Contenedor para la lista de demogorgons -->
    <div id="demogorgon-list"></div>

    <div class="upside-down">The Upside Down is near...</div>

    <script>
        async function init() {
            try {
                // 1Ô∏è‚É£ Insertar un nuevo demogorgon autom√°ticamente
                await fetch("/api/demogorgons", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ name: "Nuevo Demogorgon", level: 50 })
                });

                // 2Ô∏è‚É£ Leer y mostrar todos los demogorgons
                const res = await fetch("/api/demogorgons");
                const data = await res.json();
                const box = document.getElementById("demogorgon-list");
                box.innerHTML = "<h2>Demogorgons en la Base:</h2>";

                data.forEach(item => {
                    box.innerHTML += `<p>üëπ ${item.name} ‚Äî Nivel ${item.level}</p>`;
                });
            } catch (err) {
                console.log("Error consultando o insertando API:", err);
            }
        }

        init();
    </script>
</body>
</html>
